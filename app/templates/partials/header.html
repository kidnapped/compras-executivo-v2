<header class="br-header" data-sticky="data-sticky">
  <div class="header-container">
    <div class="header-top header-top-flex">

      <!-- BLOCO ESQUERDO -->
      <div id="header-esquerda">
        <div class="header-logo-container">
          <!-- LOGO -->
          <img src="/static/images/govbr-logo.png" alt="gov.br">
          <!-- BOTÃO HAMBURGUER -->
          <button id="menu-toggle-button" 
                  class="br-button small circle" 
                  type="button" 
                  aria-label="Abrir Menu"
                  data-tooltip-text="Menu" 
                  data-tooltip-place="bottom" 
                  data-tooltip-type="info">
            <span>&#9776;</span>
          </button>
        </div>
        <!-- Textos -->
        <div class="header-texts">
          <div class="header-sign">
            Compras Executivo
          </div>
          <div class="header-title">
            Design System | Versão 3.6.1
          </div>
        </div>
      </div>

      <!-- BLOCO DIREITO -->
      <!-- VERSÃO DESKTOP -->
      <div id="header-direita-desktop" class="d-none d-lg-flex header-direita-desktop">
        {% if request.session.get('cpf') %}
          <div class="header-user-info">
            <div class="header-user-details">
              <span id="cpf-display"
                    data-tooltip-text="CPF" 
                    data-tooltip-place="bottom" 
                    data-tooltip-type="info">{{ request.session.cpf }})</span>
              {% if request.session.get('usuario_name') %}
                <span class="header-user-name"
                      data-tooltip-text="Usuário" 
                      data-tooltip-place="bottom" 
                      data-tooltip-type="info">{{ request.session.usuario_name }}</span>
              {% endif %}
            </div>
            {% if request.session.get('usuario_role') %}
              <span class="header-user-role"
                    data-tooltip-text="Perfil no sistema"
                    data-tooltip-place="bottom" 
                    data-tooltip-type="info">{{ request.session.usuario_role }}</span>
            {% endif %}
          </div>
          <a href="/logout" 
             class="br-button small circle" 
             data-tooltip-text="Sair do sistema" 
             data-tooltip-place="bottom" 
             data-tooltip-type="info"
             aria-label="Sair">
            <i class="fas fa-sign-out-alt"></i>
          </a>
        {% else %}
          <a href="/login" class="br-button small" title="Entrar">Entrar</a>
        {% endif %}

        <!-- Separador vertical -->
        <div class="header-separator"></div>

        <!-- Botão Minha Conta -->
        <a href="/minha-conta" 
           class="br-button small circle" 
           data-tooltip-text="Minha conta" 
           data-tooltip-place="bottom" 
           data-tooltip-type="info"
           aria-label="Minha Conta">
          <i class="fas fa-user-circle"></i>
        </a>
      </div>

      <!-- VERSÃO MOBILE -->
      <div id="header-direita-mobile" class="d-flex d-lg-none header-direita-mobile">
        <button id="abrir-pesquisa" class="br-button small circle" type="button" aria-label="Buscar">
          <i class="fas fa-search header-icon"></i>
        </button>
      </div>

      <!-- CAMPO DE BUSCA MOBILE -->
      <div id="busca-mobile" class="d-lg-none">
        <div class="br-input input-highlight">
          <input id="campo-pesquisa-mobile" type="text" placeholder="Buscar..." autocomplete="off" aria-autocomplete="list">
          <i class="fas fa-search"></i>
          <button id="fechar-pesquisa">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- BARRA DE PESQUISA -->
    <div class="header-bottom" id="header-search-bar">
      <div class="br-input input-highlight">
        <input id="campo-pesquisa" type="text" placeholder="O que você procura?" autocomplete="off" aria-autocomplete="list">
        <i class="fas fa-search"></i>
      </div>
    </div>
  </div>
</header>
