{% extends "base.html" %} {% block title %}Encontro de Contas - Compras
Executivo{% endblock %} {% block content %}

<div class="container-fluid">
  <!-- Header Section -->
  <div class="row mb-4">
    <div class="col-12">
      <h1>
        <i class="fas fa-balance-scale text-primary"></i> Encontro de Contas
      </h1>
      <p class="text-muted">
        Sistema de análise e reconciliação de contratos e empenhos
      </p>
    </div>
  </div>

  <!-- Overview Cards Row -->
  <div class="row mb-4">
    <div class="col-md-3 col-sm-6">
      <div class="br-card pt-3">
        <div class="card-content">
          <div class="row">
            <div class="col-12 mb-3">
              <span style="font-weight: bold"
                ><i class="fas fa-building text-primary"></i> Fornecedor</span
              ><br />
              <span class="text-muted">fornecedores xxxx ltda</span>
            </div>
            <div class="col-12 mb-3">
              <span style="font-weight: bold"
                ><i class="fas fa-id-card text-info"></i> CNPJ / CPF</span
              ><br />
              <span class="text-muted">53.503.652/0001-05</span>
            </div>
            <div class="col-12 mb-3">
              <span style="font-weight: bold"
                ><i class="fas fa-dollar-sign text-success"></i> Valor do
                Contrato</span
              ><br />
              <span class="text-muted">R$ 301.500.000,00</span>
            </div>
            <div class="col-12 mb-3">
              <span style="font-weight: bold"
                ><i class="fas fa-chart-bar text-warning"></i>
                Orçamentário</span
              ><br />
              <span class="text-muted">R$ 275.236.057,78</span>
            </div>
            <div class="col-12">
              <span style="font-weight: bold"
                ><i class="fas fa-coins text-secondary"></i> Finanças</span
              ><br />
              <span class="text-muted">R$ 0,00</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="br-card pt-3">
        <div class="card-content text-center">
          <i class="fas fa-chart-pie fa-3x text-info mb-3"></i>
          <h5>Macro View</h5>
          <p class="text-muted">
            Visão geral dos contratos e execução orçamentária
          </p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="br-card pt-3">
        <div class="card-content text-center">
          <i class="fas fa-history fa-3x text-warning mb-3"></i>
          <h5>Histórico Orçamentário</h5>
          <p class="text-muted">
            Evolução dos gastos e empenhos ao longo do tempo
          </p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="br-card">
        <div class="card-header">
          <div class="d-flex" style="width: 100%">
            <div class="ml-3" style="flex-grow: 1">
              <div class="titulo">
                <img
                  src="/static/images/doc2.png"
                  alt="Ícone"
                  style="height: 36px; margin: 10px 0px -10px 0px"
                />
                Buscar Empenhos
              </div>
              <div
                style="border-bottom: 1px solid #ccc; margin: -6px 0px 0px 26px"
              ></div>
              <div class="subtitulo">Consultar empenhos por contrato</div>
            </div>
          </div>
        </div>
        <div class="card-content">
          <div class="br-input">
            <label for="contrato-id-input">ID do Contrato *</label>
            <input
              type="number"
              id="contrato-id-input"
              placeholder="Digite o ID do contrato"
              min="1"
              required
              class="form-control"
            />
            <small class="form-text text-muted">Ex: 81081, 299383</small>
          </div>
          <div class="br-input">
            <label for="unidade-empenho-input"
              >ID da Unidade de Empenho (opcional)</label
            >
            <input
              type="number"
              id="unidade-empenho-input"
              placeholder="Digite o ID da unidade (opcional)"
              min="1"
              class="form-control"
            />
            <small class="form-text text-muted"
              >Deixe vazio para usar sua UASG</small
            >
          </div>
          <div class="d-flex gap-2 mt-3">
            <button class="br-button primary" id="search-empenhos-btn">
              <i class="fas fa-search"></i> Buscar Empenhos
            </button>
            <button class="br-button secondary" id="clear-search-btn">
              <i class="fas fa-times"></i> Limpar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Results Section -->
  <div class="row">
    <div class="col-12">
      <div id="empenhos-results">
        <!-- Results will be displayed here dynamically -->
        <div class="text-center text-muted" style="padding: 60px">
          <i class="fas fa-search fa-3x mb-3"></i>
          <h5>Aguardando Consulta</h5>
          <p>
            Digite um ID de contrato acima e clique em "Buscar Empenhos" para
            visualizar os dados
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Help Section -->
  <div class="row mt-5">
    <div class="col-12">
      <div class="br-card">
        <div class="card-header">
          <h5>
            <i class="fas fa-question-circle text-info"></i> Como usar o sistema
          </h5>
        </div>
        <div class="card-content">
          <div class="row">
            <div class="col-md-4">
              <h6><i class="fas fa-step-forward text-primary"></i> Passo 1</h6>
              <p>
                Digite o ID do contrato que deseja consultar no campo "ID do
                Contrato"
              </p>
            </div>
            <div class="col-md-4">
              <h6><i class="fas fa-step-forward text-primary"></i> Passo 2</h6>
              <p>
                Opcionalmente, informe o ID da unidade de empenho. Se não
                informar, será usado sua UASG
              </p>
            </div>
            <div class="col-md-4">
              <h6><i class="fas fa-step-forward text-primary"></i> Passo 3</h6>
              <p>
                Clique em "Buscar Empenhos" para visualizar todos os dados do
                contrato e empenhos relacionados
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
